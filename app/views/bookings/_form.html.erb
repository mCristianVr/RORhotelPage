<%= form_with(model: booking) do |form| %>
  <% if booking.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(booking.errors.count, "error") %> prohibited this booking from being saved:</h2>

      <ul>
        <% booking.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>


  <%= hidden_field_tag 'booking[user_id]', session[:user_id] %>

  <%= form.label "Fecha de entrada y salida:" %>
  <%= form.text_field :dateRange,
    data: {
      mode: "range",
      controller: "flatpickr",
      flatpickr_date_format: "d-m-Y",
      flatpickr_min_date: "today"
    } 
  %>


  <% Style.each do |style| %>

    <div class="card my-2 mx-auto" style="width: 18rem;">
      <%= image_tag 'room_' + style.desc + '.jpg', alt: 'icon' %>

      <div class="card-body">
        <h5 class="card-title"> <%= style.desc.capitalize %> </h5>
        <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Amet repellendus nesciunt suscipit veritatis aut vel fugiat voluptates, officiis adipisci, soluta libero quia sint recusandae cum mollitia veniam ullam exercitationem, cupiditate..</p>
        
        <%= form.button 'Reservar habitaciÃ³n', type: "submit", class: "btn btn-primary", name: "booking[style_id]", value: style._id %>
      </div>
    </div>

  <% end %>

<% end %>
